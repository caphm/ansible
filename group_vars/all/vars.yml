##########################################################################################
# GLOBALS
##########################################################################################
force_update: false

smtp_host: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          36623063386137396539316133623630666464643630363233323833366236353363316632306432
          6330653066313164386238303461623538363661336339320a643136623636303634613062643438
          32343264353038373239643966323639393061646164363930623331313139336266313534306537
          3837623536663338300a616365653663343130623331633332616538386431363061633063343531
          3034
smtp_port: 587
smtp_over_tls: true
email_address: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          62383265616136643665656230393339323239646532616331363632613536633832616530626264
          3731326162373431666639336133333365306261666432340a636631623065343765663137313434
          30323738663636343235633439663038343339653439613465366234356130356165316535366434
          3561623733383937360a623262356461316635373466636163336336663834313063303732633735
          34306561353634363930373634363035376439366636383434343564356139663531393330376231
          6664666337653538376563623661616264373133313531646535
email_pass: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          62326431646130316565623035623739383437383962356366663461303439663635383932626337
          3832663631313531633365393562386635626562383832350a393936653363663733623138333137
          32306461653336663566636531363233373131613232666637356434393564623566333166346463
          3765383562336438660a396464623162353134363934616137643363643939373332363766326239
          63303766346662356238613664666434623938376133623138326339333139636266

docker_host: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          30343434343333383732663432313330363866633837336338633465336161303163346665393437
          3739353037363566366137383536363135643931373661390a363466653865616536346463306533
          30393336633336303637393135306463636338313138633136383336623763376330623438343236
          3036333432623331320a643663333233363932663165376165306239613463373864646564653933
          64336631623864346562383562623631383863613232313439363834323632656663

docker_host_hostname: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          31373961623534343361613231333930376566636366363361666436613232613062623162303563
          3162323365343562646665663961363237353336353136330a343432363738653039633564623563
          31383633383437633661373864306135613863306266373131326230663964313635333331383363
          3130316131623366610a373666653234626439383831366539646461333961386130303462366261
          3863

cf_api_key: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          61623333313332316561316336643064386531333963363861653861383531343461613464303437
          3235653936303130653438633263626566643633356538310a316464666462353162306238323837
          38623436663062386136653438643361393562626563326635363164646535376265626235656132
          3430663732333965360a303131346666393761363031303433386430643364323438336461616435
          32366466363066393261366638643339396532316332343561313831336535616637326565353865
          3731633565626662343639656362663665343233343939336135

acme_public_domain: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          33343766613435623162633063326566393064656538663062656231356133336366643764643266
          6537633330333734336334346630646564643136313130340a363832336265383132393631373566
          38643836633838373363326338373035393133363564616661613835653135343434333032626339
          3336613739636262640a383833653061366531663064376264336263323531636633323363306265
          3366

acme_private_domain: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          36306238306534353530323233313564633531313932346537343761363966643665373232333536
          6561386337323239616633326462336662643832303061340a303238643161313731303937623539
          32383762393066393231626230613962633837383732306639316165396237376666383962363362
          6238623462626138340a306430333733373437323963326435623739653163353437636236336333
          30383464373366316332643461666533653138396338353762396430626662343636

##########################################################################################
# BASEOS
##########################################################################################
defaultuser:
  name: caphm
  uid: 1000
  maingroup: caphm
  maingid: 1000
  groups:
    - sudo

appdata: "/home/{{defaultuser.name}}/appdata"

##########################################################################################
# DOCKER
##########################################################################################
# apt repository key
apt_key_url: https://download.docker.com/linux/ubuntu/gpg
# apt repository key signature
apt_key_sig: 9DC858229FC7DD38854AE2D88D81803C0EBFCD88

# Line to be added to sources docker.list (release specific)
apt_repository: deb [arch=amd64] https://download.docker.com/linux/ubuntu {{ ansible_distribution_release }} stable

# The following help expose a docker port or to add additional options when
# running docker daemon.  The default is to not use any special options.
# docker_opts: >
#  -H unix://
#  -H tcp://0.0.0.0:2375
#  --log-level=debug
docker_opts: ""

##########################################################################################
# SNAPRAID
##########################################################################################
snapraid_log: /var/log/snapraid.log
snapraid_mail_events: error

##########################################################################################
# MOUNTS & STORAGE ARRAY
##########################################################################################
mountroot: "/mnt"
arrayname: "storage"
diskbasename: "disk"
arraypath: "{{mountroot}}/{{arrayname}}"
cache_path: "{{ mountroot }}/cache1"

mounts:
  - { name: "cache1", src: "/dev/disk/by-label/110G-Kingston-C1", fs: ext4, opts: "defaults,relatime,nofail,errors=remount-ro"}
  - { name: "parity1", src: "/dev/disk/by-label/8.0T-Seagate-P1", fs: ext4, opts: "defaults,nofail,errors=remount-ro"}
  - { name: "{{diskbasename}}1", src: "/dev/disk/by-label/8.0T-Seagate-D1", fs: ext4, opts: "defaults,nofail,errors=remount-ro"}
  - { name: "{{diskbasename}}2", src: "/dev/disk/by-label/3.0T-WD-D2", fs: ext4, opts: "defaults,nofail,errors=remount-ro"}
  - { name: "{{diskbasename}}3", src: "/dev/disk/by-label/3.0T-WD-D3", fs: ext4, opts: "defaults,nofail,errors=remount-ro"}
  - { name: "{{arrayname}}", src: "{{mountroot}}/{{diskbasename}}*", fs: fuse.mergerfs, opts: "defaults,allow_other,direct_io,use_ino,minfreespace=50G,fsname=mergerfs"}

folders:
  # on all drives
  - disk1/media/2d-movies
  - disk2/media/2d-movies
  - disk3/media/2d-movies
  - disk1/media/tv-shows
  - disk2/media/tv-shows
  - disk3/media/tv-shows
  - disk1/software
  - disk2/software
  - disk3/software
  # only on disk2
  - disk2/backups
  - disk2/media/Videos
  # only on disk3
  - disk3/downloads
  - disk3/media/audio-books
  - disk3/media/Musik
  - disk3/media/Bilder
  # only on cache1
  - cache1/appdata
  - cache1/vdisks

##########################################################################################
# NETWORKING
##########################################################################################
unifi_home: "{{ appdata }}/unifi"
unifi_path: /unifi
unifi_host: "unifi.{{ acme_private_domain }}"
networks:
  mgmt:
    subnet: 172.18.0.2/24
  web:
    subnet: 172.18.10.2/24
  iot:
    subnet: 172.18.20.2/24

##########################################################################################
# TRAEFIK
##########################################################################################
traefik_debug: false
traefik_loglevel: ERROR
traefik_home: "{{appdata}}/traefik"
traefik_path: /traefik
certdumper_home: "{{ traefik_home }}/certdumper"
dnsproxy_home: "{{ appdata }}/dns-proxy"

ssl_path: "{{traefik_home}}/ssl"
ssl_certs_path: "{{ ssl_path }}/certs"
ssl_private_path: "{{ ssl_path }}/private"

isrg_root_cert: "{{ ssl_certs_path }}/isrgrootx1.pem"
public_domain_cert: "{{ ssl_certs_path }}/*.{{ acme_public_domain }}.crt"
public_domain_key: "{{ ssl_private_path }}/*.{{ acme_public_domain }}.key"
private_domain_cert: "{{ ssl_certs_path }}/*.{{ acme_private_domain }}.crt"
private_domain_key: "{{ ssl_private_path }}/*.{{ acme_private_domain }}.key"

##########################################################################################
# HOME ASSISTANT
##########################################################################################
hass_home: "{{appdata}}/home-assistant"
appdaemon_home: "{{hass_home}}/appdaemon"
hadockermon_home: "{{hass_home}}/ha-dockermon"
mosquitto_home: "{{appdata}}/mosquitto"
hass_url: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          31623466353164316337663663333636353335383735326436646235643433663135623863333665
          3766633661343830633635623736646361393963363735650a343064343532303665613939343161
          34356465653766643937626434323936643165643366633462343264306432343539353361346632
          3139623861666430650a386439346135663237313136363562333230326462316561383162616538
          62353363313366313038396138643465356431636462386361653437333461353030
appdaemon_token: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          64306136373766356134303637633834363537366237643963663637613265623238626632386132
          6564343638303031363139633865313334306431616534320a366234313936373363376337393364
          31616635653363393966366564333264323366626566343234643865616666313832646435623763
          3235303332656361620a333538303363323161643038363733646261386239346463396262313135
          33393064666265303062393935663762626565353665653465363433323436396265396638366434
          66393166633534643761373637643163626433333335373733616463613934386465313235356232
          30393862393066346130343434393164386661353731333266373930646463333637376537306131
          37633162376339333165393265643061653232613934343534343032643936336630383565336361
          63623661623933303138323032393638393136333636376537363065623662323862353262323264
          31633732653132323363396331353666613261316630336434396437366433323237616561626331
          63333033666431333863383932363663616361666535303832393461333561663439663231313635
          66323539333064393430306532303834393836303135623739346335346332336638613330386562
          31326462306331333431353531376461633839343331323734353738623864346463

##########################################################################################
# MEDIA SERVER
##########################################################################################
plex_home: "{{ appdata }}/plex"
plex_transcode_dir: "{{ cache_path }}/transcode"
filebot_home: "{{ appdata }}/filebot"
jdownloader_home: "{{ appdata }}/jdownloader"
filebot_path: /filebot
jdownloader_path: /jdownloader
plex_url: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          33376134626663356532366162306635636666383938653038383833393466376431656461613330
          3132336166663331653663316661643564303537646565300a326530396436643330333731336430
          62636566356233663336336138643938643762633730363864666266323965313762373062353932
          6637356233656162650a663764356662383865653161666265303830303231393239323232656234
          3964
plex_cert_enc_key: !vault |
          $ANSIBLE_VAULT;1.2;AES256;zeus
          63653563633661656537373361393635333431386666613963623130373862373232316535623961
          3262323965653338303734366261383630313939313733360a336536303131643330393661313766
          37303265386132353738333362376639343430653937653738656361616638303537353235656633
          3834666136373532350a383639343738616437616636393131626335333562616165323032353565
          39616539363833303130626337326264626362613166643534336664656163336333